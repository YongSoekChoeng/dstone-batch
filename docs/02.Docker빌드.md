## WSL 호스트 환경

*   **WORK_ROOT**
    *   `/workshop/docker`
*   **Batch Application**
    *   `%WORK_ROOT%/dstone-batch/target/dstone-batch-0.0.1-SNAPSHOT.jar`
    *   `/bin/명령어파일들`
    *   `/conf/설정파일들`
*   **Batch Admin Application**
    *   `%WORK_ROOT%/dstone-batch-server/배치관리서버 어플리케이션파일들`
*   **Database 자원**
    *   `%WORK_ROOT%/dstone-mysql/init-db/Database 초기화 관련파일들`
*   **Yml 위치**
    *   `%WORK_ROOT%/dstone-batch-docker-compose.yml`

---

## Docker 환경

### A. Application 컨테이너

-   **Batch Application**
    -   **이름:** `dstone-batch`
    -   **스펙:** Spring Boot(버전 : 3.2.2) + Spring Batch(버전 : 5.1.0)
    -   **JDK:** 21
    -   **Application 구조:**
        -   `/workshop/dstone-batch/target/dstone-batch-0.0.1-SNAPSHOT.jar`
        -   `/bin/명령어파일들`
        -   `/conf/설정파일들`
		
### B. Admin Application 컨테이너

-   **Batch Admin Application**
    -   **JDK:** 21
    -   **Application 구조:**
        -   `/workshop/dstone-batch-server/dataflow/spring-cloud-dataflow-server-2.11.5.jar`
        -   `/workshop/dstone-batch-server/그 외 필요한 배치관리서버 어플리케이션파일들`

### C. DB 컨테이너

-   하나의 Mysql(버젼 : 8.1.1) 머신에 두 개의 데이터베이스. (캐릭터셋: utf8mb4, utf8mb4_0900_ai_ci)
-   **배치서버 Application용 데이터베이스**
    -   **데이터베이스명:** `sampleDB`
    -   **USER/PASSWD:** `sampleuser/sampleuser`
-   **배치관리서버 Application용 데이터베이스**
    -   **데이터베이스명:** `dataflow`
    -   **USER/PASSWD:** `dataflow/dataflow`

---

## Docker 빌드

1.  **작업디렉토리에 템플릿자원 복사**
    ```bash
    /workshop/docker <<== dstone-batch/docs/docker/하위 모든 자원
    /workshop/docker/dstone-batch-docker-compose.yml 의 내용을 참고하여 부가적인 작업진행
    ```
2.  **작업디렉토리로 이동**
    ```bash
    cd /workshop/docker
    ```
3.  **Docker Compose 실행**
    ```bash
    docker-compose -f dstone-batch-docker-compose.yml up -d
    ```
4.  **로그 확인**
    ```bash
    docker-compose -f dstone-batch-docker-compose.yml logs -f
    ```
5.  **중지 및 삭제**
    ```bash
    docker-compose -f dstone-batch-docker-compose.yml down -v
    ```